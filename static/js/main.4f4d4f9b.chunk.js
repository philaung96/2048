(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),a=r(8),o=r.n(a),i=(r(13),r(5)),s=(r(14),r(3)),l=r(0),u=function(e){var t,r=Object(s.a)(e.leaders);return r.length>10&&r.splice(10,e.leaders.length-10),t=r.map((function(e,t){return Object(l.jsx)("li",{className:"user-info",children:Object(l.jsxs)("p",{children:[t+1," - ",e.name," : ",e.score]})},t)})),Object(l.jsxs)("section",{id:"leaderboard",children:[Object(l.jsx)("h2",{children:"TOP 10"}),Object(l.jsx)("ul",{id:"top-ten",children:t})]})},j=function(){return Object(l.jsxs)("aside",{id:"instruction",children:[Object(l.jsx)("h2",{children:"How To Play"}),Object(l.jsxs)("p",{children:["- Use ",Object(l.jsx)("i",{children:"Arrow Keys"}),", Or ",Object(l.jsx)("i",{children:"Arrow Buttons"})," To Move The Tiles.",Object(l.jsx)("br",{}),"- Tiles With The Same Number Will Combine Into One.",Object(l.jsx)("br",{}),"Check Out The Git Hub Repo",Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:"https://github.com/philaung96/2048",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("i",{children:"HERE"})})]})]})},f=function(e){var t=[];return e.tiles&&(t=e.tiles.map((function(e,t){return Object(l.jsx)("div",{className:"tile",children:Object(l.jsx)("h4",{children:e||""})},t)}))),Object(l.jsx)("div",{id:"grid",children:t&&t})},d=function(e){return Object(l.jsxs)("div",{id:"arrows",children:[Object(l.jsx)("div",{id:"arrow-top",onClick:function(){return e.up()},children:Object(l.jsx)("i",{className:"far fa-arrow-alt-circle-up fa-4x"})}),Object(l.jsx)("div",{id:"arrow-right",onClick:function(){return e.right()},children:Object(l.jsx)("i",{className:"far fa-arrow-alt-circle-right fa-4x"})}),Object(l.jsx)("div",{id:"arrow-bottom",onClick:function(){return e.down()},children:Object(l.jsx)("i",{className:"far fa-arrow-alt-circle-down fa-4x"})}),Object(l.jsx)("div",{id:"arrow-left",onClick:function(){return e.left()},children:Object(l.jsx)("i",{className:"far fa-arrow-alt-circle-left fa-4x"})})]})},b=r(2),h=r.n(b),O=function(e){var t=Object(c.useState)(),r=Object(i.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)([]),u=Object(i.a)(o,2),j=u[0],b=u[1],O=[],v=0,x=!1;n&&(O=Object(s.a)(n.tiles),v=n.score),Object(c.useEffect)((function(){if(localStorage.data){var e=JSON.parse(localStorage.getItem("data"));a({tiles:Object(s.a)(e.localTiles),best:e.localBest,score:e.localScore})}else p()}),[]);var p=function(){for(var e=Math.floor(16*Math.random()),t=[],r=0;r<16;r++)t[r]=r===e?2:0;var c=JSON.parse(localStorage.getItem("data")),n=0;c&&(n=c.localBest),localStorage.setItem("data",JSON.stringify({localTiles:Object(s.a)(O),localBest:n,localScore:v})),a({tiles:t,best:n,score:0})};Object(c.useEffect)((function(){O.every((function(e){return e>0}))&&!function(){for(var e=!1,t=function(e){return e+4<=15&&O[e]===O[e+4]},r=function(e){var t=Math.floor(e/4);return Math.floor((e+1)/4)===t&&O[e]===O[e+1]},c=0;c<15;c++)if(t(c)||r(c)){e=!0;break}return e}()&&function(){h()("#game-over").slideDown();var t=["!!! GAME OVER !!!"],r=e.leaders.findIndex((function(e){return v>e.score}));r>-1&&r<99&&(t.push("Congratulations! you place ".concat(r+1," out of 100")),h()("#restart").slideUp()),b(t)}()}),[n,e]);var m=function(){h()("#game-over").fadeOut(),p()},g=function(){for(var e=Math.floor(16*Math.random());O[e]>0;)e=Math.floor(16*Math.random());O[e]=2;var t=JSON.parse(localStorage.getItem("data")),r=0;r=v>t.localBest?v:t.localBest,localStorage.setItem("data",JSON.stringify({localTiles:Object(s.a)(O),localBest:r,localScore:v})),a({tiles:O,best:r,score:v})},w=function(e,t){return 4*e+t},S=function(e,t){var r=O[t]+O[e];O[t]===O[e]&&(v+=r),O[t]=r,O[e]=0,x=!0},k=function(e){for(var t=Math.floor(e/4),r=e-1,c=!1;!c;){if(O[r]>0)return r;(--r<0||Math.floor(r/4)!==t)&&(c=!0)}return-1},y=function(){for(var e=0;e<4;e++)for(var t=3;t>=1;t--){var r=w(e,t),c=k(r);-1!==c&&(0===O[r]?(S(c,r),t++):O[r]===O[c]?S(c,r):r-1!==c&&S(c,r-1))}x&&g()},N=function(e){for(var t=Math.floor(e/4),r=e+1,c=!1;!c;){if(O[r]>0)return r;(++r>15||Math.floor(r/4)!==t)&&(c=!0)}return-1},M=function(){for(var e=0;e<4;e++)for(var t=0;t<3;t++){var r=w(e,t),c=N(r);-1!==c&&(0===O[r]?(S(c,r),t--):O[r]===O[c]?S(c,r):r+1!==c&&S(c,r+1))}x&&g()},T=function(e){for(var t=e+4,r=!1;!r;){if(O[t]>0)return t;(t+=4)>15&&(r=!0)}return-1},C=function(){for(var e=0;e<4;e++)for(var t=0;t<3;t++){var r=w(t,e),c=T(r);-1!==c&&(0===O[r]?(S(c,r),t--):O[r]===O[c]?S(c,r):r+4!==c&&S(c,r+4))}x&&g()},A=function(e){for(var t=e-4,r=!1;!r;){if(O[t]>0)return t;(t-=4)<0&&(r=!0)}return-1},J=function(){for(var e=0;e<4;e++)for(var t=3;t>0;t--){var r=w(t,e),c=A(r);-1!==c&&(0===O[r]?(S(c,r),t++):O[r]===O[c]?S(c,r):r-4!==c&&S(c,r-4))}x&&g()},B=function(e){switch(e){case"ArrowLeft":M();break;case"ArrowUp":C();break;case"ArrowRight":y();break;case"ArrowDown":J()}};h()("body").off("keyup"),h()("body").on("keyup",(function(e){e.preventDefault(),B(e.key)}));var E=j.map((function(e,t){return Object(l.jsx)("h3",{children:e},t)}));return Object(l.jsxs)("section",{id:"game",children:[Object(l.jsxs)("div",{id:"game-over",children:[E,Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=h()("#input-name").val();t?(h()("#restart").slideDown(),fetch("https://clone48.herokuapp.com",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({admin:"-v7J&wUN2K55vdzX#x%#C5#uk",user:{name:t,score:v}})}),m()):(h()("#input-name").attr("placeholder","please enter a name!"),h()("#input-name").addClass("red-placeholder"))},children:Object(l.jsxs)("fieldset",{children:[Object(l.jsx)("legend",{children:"Add Your Name To Leaderboard"}),Object(l.jsx)("input",{type:"text",placeholder:"name",id:"input-name"}),Object(l.jsx)("button",{type:"submit",children:"submit"})]})})]}),n&&Object(l.jsxs)("div",{id:"scores",children:[Object(l.jsxs)("h4",{className:"score",children:["best : ",n.best]}),Object(l.jsxs)("h4",{className:"score",children:["score : ",n.score]}),Object(l.jsx)("button",{id:"restart",onClick:m,children:"restart"})]}),n&&Object(l.jsx)(f,{tiles:n.tiles,latest:n.latest,handleKeyPress:B}),n&&Object(l.jsx)(d,{up:C,right:y,down:J,left:M})]})};var v=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){fetch("https://clone48.herokuapp.com").then((function(e){return e.json()})).then((function(e){var t=e.users;t.sort((function(e,t){return t.score-e.score})),n(t)}))}),[]),Object(l.jsxs)("div",{id:"App",children:[Object(l.jsx)("h1",{children:"2048"}),Object(l.jsxs)("main",{children:[Object(l.jsx)(O,{leaders:r}),Object(l.jsx)(u,{leaders:r}),Object(l.jsx)(j,{})]})]})};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.4f4d4f9b.chunk.js.map